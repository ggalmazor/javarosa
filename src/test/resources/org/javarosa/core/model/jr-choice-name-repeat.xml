<?xml version="1.0"?>
<h:html xmlns="http://www.w3.org/2002/xforms" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:h="http://www.w3.org/1999/xhtml" xmlns:jr="http://openrosa.org/javarosa" xmlns:odk="http://www.opendatakit.org/xforms" xmlns:orx="http://openrosa.org/xforms" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
	<h:head>
		<h:title>jr-choice-name-repeat</h:title>
		<model>
			<instance>
				<jr-choice-name-repeat id="jr-choice-name-repeat">
                    <literal_choice_name/>

                    <select_one_outside/>
                    <select_one_name_outside/>

					<my-repeat>
						<select_one/>
						<select_one_name/>
					</my-repeat>
					<meta>
						<instanceID/>
					</meta>
				</jr-choice-name-repeat>
			</instance>
            <bind calculate="jr:choice-name('choice2' , '/jr-choice-name-repeat/select_one_outside')" nodeset="/jr-choice-name-repeat/literal_choice_name" type="string"/>

            <bind nodeset="/jr-choice-name-repeat/select_one_outside" type="select1"/>
            <bind calculate="jr:choice-name( /jr-choice-name-repeat/select_one_outside , ' /jr-choice-name-repeat/select_one_outside ')" nodeset="/jr-choice-name-repeat/select_one_name_outside" type="string"/>

            <bind nodeset="/jr-choice-name-repeat/my-repeat/select_one" type="select1"/>
			<bind calculate="jr:choice-name( ../select_one , ' ../select_one ')" nodeset="/jr-choice-name-repeat/my-repeat/select_one_name" type="string"/>

			<bind jr:preload="uid" nodeset="/jr-choice-name-repeat/meta/instanceID" readonly="true()" type="string"/>
		</model>
	</h:head>
	<h:body>
        <select1 ref="/jr-choice-name-repeat/select_one_outside">
            <label>Select one</label>
            <item>
                <label>Choice 1</label>
                <value>choice1</value>
            </item>
            <item>
                <label>Choice 2</label>
                <value>choice2</value>
            </item>
            <item>
                <label>Choice 3</label>
                <value>choice3</value>
            </item>
            <item>
                <label>Choice 4</label>
                <value>choice4</value>
            </item>
            <item>
                <label>Choice 5</label>
                <value>choice5</value>
            </item>
        </select1>


		<group ref="/jr-choice-name-repeat/my-repeat">
			<label/>
			<repeat nodeset="/jr-choice-name-repeat/my-repeat">
				<select1 ref="/jr-choice-name-repeat/my-repeat/select_one">
					<label>Select one</label>
					<item>
						<label>Choice 1</label>
						<value>choice1</value>
					</item>
					<item>
						<label>Choice 2</label>
						<value>choice2</value>
					</item>
					<item>
						<label>Choice 3</label>
						<value>choice3</value>
					</item>
					<item>
						<label>Choice 4</label>
						<value>choice4</value>
					</item>
					<item>
						<label>Choice 5</label>
						<value>choice5</value>
					</item>
				</select1>
			</repeat>
		</group>
	</h:body>
</h:html>